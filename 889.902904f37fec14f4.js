"use strict";(self.webpackChunktask_control_app=self.webpackChunktask_control_app||[]).push([[889],{7889:(Q,g,i)=>{i.r(g),i.d(g,{ArchiveModule:()=>D});var c=i(6895),p=i(6264),t=i(4650),d=i(1524),l=i(2152);function _(n,o){1&n&&(t.TgZ(0,"div",3),t._UZ(1,"app-loading-spinner"),t.qZA())}function u(n,o){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.task.description)}}function h(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"No description"),t.qZA())}function m(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"No comments"),t.qZA())}const v=function(n){return{odd:n}};function x(n,o){if(1&n&&(t.TgZ(0,"ul")(1,"li",13),t._uU(2),t.qZA()()),2&n){const e=o.$implicit,r=o.index;t.xp6(1),t.Q6J("ngClass",t.VKq(3,v,r%2==0)),t.xp6(1),t.AsE("",r+1,". ",e.comment,"")}}function f(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"h3"),t._uU(4,"Description"),t.qZA(),t.TgZ(5,"div",5),t.YNc(6,u,2,1,"p",6),t.qZA(),t.YNc(7,h,2,0,"ng-template",null,7,t.W1O),t.TgZ(9,"h3"),t._uU(10,"Comments"),t.qZA(),t.TgZ(11,"div",5),t.YNc(12,m,2,0,"p",8),t.YNc(13,x,3,5,"ul",9),t.qZA(),t.TgZ(14,"div",10)(15,"div")(16,"h4"),t._uU(17,"Created at:"),t.qZA(),t.TgZ(18,"p"),t._uU(19),t.ALo(20,"date"),t.qZA(),t.TgZ(21,"h4"),t._uU(22,"Updated at:"),t.qZA(),t.TgZ(23,"p"),t._uU(24),t.ALo(25,"date"),t.qZA()(),t.TgZ(26,"div",11)(27,"button",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onGoBack())}),t._uU(28,"Go back"),t.qZA()()()()}if(2&n){const e=t.MAs(8),r=t.oxw();t.xp6(2),t.hij("Task name: ",r.task.name,""),t.xp6(4),t.Q6J("ngIf",r.task.description)("ngIfElse",e),t.xp6(6),t.Q6J("ngIf",0===r.task.comments.length),t.xp6(1),t.Q6J("ngForOf",r.task.comments),t.xp6(6),t.Oqu(t.lcZ(20,7,r.task.createdAt)),t.xp6(5),t.Oqu(t.lcZ(25,9,r.task.updatedAt))}}let C=(()=>{class n{constructor(e,r,a){this.dataStorage=e,this.route=r,this.router=a,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.route.params.subscribe(e=>{this.id=e.id}),this.dataStorage.getTaskById(this.id).subscribe({next:e=>{this.isLoading=!1,this.task=e},error:e=>{this.isLoading=!1,this.dataStorage.errorSubj.next(e)}})}onGoBack(){this.router.navigate(["../"],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.Z),t.Y36(p.gz),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-archive-task-detail"]],inputs:{index:"index"},decls:3,vars:2,consts:[[1,"wrapper"],["style","text-align: center",4,"ngIf"],["class","content-wrapper",4,"ngIf"],[2,"text-align","center"],[1,"content-wrapper"],[1,"scroll"],[4,"ngIf","ngIfElse"],["noDescription",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"bottom-section"],[1,"btn-wrapper"],[1,"button","btn-primary",3,"click"],[3,"ngClass"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,_,2,0,"div",1),t.YNc(2,f,29,11,"div",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("ngIf",!r.isLoading))},dependencies:[c.mk,c.sg,c.O5,l.g,c.uU],styles:["h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0 0 10px 30px}.scroll[_ngcontent-%COMP%]{border-radius:4px;overflow-y:auto;overflow-x:hidden;height:7rem;background-color:#e7e7e7;margin-bottom:15px;padding:5px 0}p[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{margin:0 15px 0 60px;color:#777;font-size:15px;line-height:40px}.odd[_ngcontent-%COMP%]{background-color:#c9c7c7}li[_ngcontent-%COMP%]{list-style:none;padding:5px 10px;margin:0 15px;border-radius:4px}ul[_ngcontent-%COMP%]{padding:0;margin:0}.wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:baseline;background-color:#f5f3f3;height:100%;padding-top:60px}.wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:30%;padding:30px 60px;background-color:#d5d3d3;border:1px solid transparent;border-radius:4px}.wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;text-align:center;line-height:40px}.wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .bottom-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .bottom-section[_ngcontent-%COMP%]   .btn-wrapper[_ngcontent-%COMP%]{align-self:end}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#a4a3a3;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#dad7d7}"]}),n})();var A=i(5802),b=i(6784);function Z(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"app-error-page",5),t.NdJ("close",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.onErrorHide(a))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("error",e.error)}}function T(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"No any archive tasks"),t.qZA())}function k(n,o){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.description)}}function O(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"No description"),t.qZA())}function M(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"No comments"),t.qZA())}const w=function(n){return{odd:n}};function P(n,o){if(1&n&&(t.TgZ(0,"ul")(1,"li",14),t._uU(2),t.qZA()()),2&n){const e=o.$implicit,r=o.index;t.xp6(1),t.Q6J("ngClass",t.VKq(3,w,r%2==0)),t.xp6(1),t.AsE("",r+1,". ",e.comment,"")}}function q(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"header")(2,"h2"),t._uU(3),t.qZA()(),t.TgZ(4,"main")(5,"h3"),t._uU(6,"Description:"),t.qZA(),t.YNc(7,k,2,1,"p",10),t.YNc(8,O,2,0,"ng-template",null,11,t.W1O),t.TgZ(10,"h3"),t._uU(11,"Status:"),t.qZA(),t.TgZ(12,"p"),t._uU(13),t.qZA(),t.TgZ(14,"h3"),t._uU(15,"Comments:"),t.qZA(),t.YNc(16,M,2,0,"p",7),t.YNc(17,P,3,5,"ul",12),t.qZA(),t.TgZ(18,"footer")(19,"button",13),t.NdJ("click",function(){const s=t.CHM(e).$implicit,F=t.oxw(2);return t.KtG(F.onDetailShow(s._id))}),t._uU(20,"Go to detail"),t.qZA()()()}if(2&n){const e=o.$implicit,r=t.MAs(9);t.xp6(3),t.Oqu(e.name),t.xp6(4),t.Q6J("ngIf",e.description)("ngIfElse",r),t.xp6(6),t.Oqu(e.status),t.xp6(3),t.Q6J("ngIf",0===e.comments.length),t.xp6(1),t.Q6J("ngForOf",e.comments)}}function y(n,o){if(1&n&&(t.TgZ(0,"div",6),t.YNc(1,T,2,0,"p",7),t.YNc(2,q,21,6,"div",8),t.qZA()),2&n){const e=o.ngIf;t.xp6(1),t.Q6J("ngIf",e.length<1),t.xp6(1),t.Q6J("ngForOf",e)}}function U(n,o){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"app-loading-spinner"),t.qZA())}const Y=[{path:"",component:(()=>{class n{constructor(e,r,a,s){this.dataStorage=e,this.boardService=r,this.route=a,this.router=s}ngOnInit(){this.dataStorage.getArchiveTask("archive").subscribe({next:e=>{this.boardService.setTask(e)},error:e=>{this.dataStorage.errorSubj.next(e)}}),this.tasks$=this.boardService.tasksChanged,this.errorSubscription=this.dataStorage.errorSubj.subscribe(e=>{this.error=e})}onErrorHide(e){this.error=e}ngOnDestroy(){this.errorSubscription&&this.errorSubscription.unsubscribe()}onDetailShow(e){this.router.navigate([e],{relativeTo:this.route})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.Z),t.Y36(A.$),t.Y36(p.gz),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-archive"]],decls:8,vars:5,consts:[[1,"archive-title"],["class","error-wrapper",4,"ngIf"],["class","archive-page",4,"ngIf","ngIfElse"],["loading",""],[1,"error-wrapper"],[3,"error","close"],[1,"archive-page"],[4,"ngIf"],["class","archive-block-wrapper",4,"ngFor","ngForOf"],[1,"archive-block-wrapper"],[4,"ngIf","ngIfElse"],["noDescription",""],[4,"ngFor","ngForOf"],[1,"button","btn-primary",3,"click"],[3,"ngClass"],[1,"loader-wrapper"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Archive tasks"),t.qZA()(),t.YNc(3,Z,2,1,"div",1),t.YNc(4,y,3,2,"div",2),t.ALo(5,"async"),t.YNc(6,U,2,0,"ng-template",null,3,t.W1O)),2&e){const a=t.MAs(7);t.xp6(3),t.Q6J("ngIf",r.error),t.xp6(1),t.Q6J("ngIf",t.lcZ(5,3,r.tasks$))("ngIfElse",a)}},dependencies:[c.mk,c.sg,c.O5,b.f,l.g,c.Ov],styles:["h3[_ngcontent-%COMP%]{margin:0 0 10px}p[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{margin:0 15px;color:#777;font-size:15px;line-height:40px}li[_ngcontent-%COMP%]{list-style:none;padding:5px 10px;margin:0 15px;border-radius:4px}ul[_ngcontent-%COMP%]{padding:0;margin:0}.odd[_ngcontent-%COMP%]{background-color:#c9c7c7}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#a4a3a3;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#dad7d7}.archive-title[_ngcontent-%COMP%]{padding:0 20px;display:flex;justify-content:center}.archive-page[_ngcontent-%COMP%]{display:grid;padding:20px;grid-gap:15px;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));margin-top:30px}.archive-page[_ngcontent-%COMP%]   .archive-block-wrapper[_ngcontent-%COMP%]{margin:2px;padding:20px 30px;background-color:#d5d3d3;border:1px solid transparent;border-radius:4px;height:25rem}.archive-page[_ngcontent-%COMP%]   .archive-block-wrapper[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{margin:20px 0;height:15rem;overflow-y:auto;overflow-x:hidden;flex:1 1 auto}"]}),n})(),canActivate:[i(7063).a]},{path:":id",component:C}];let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,p.Bz.forChild(Y),p.Bz]}),n})();var J=i(4466);let D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,S,J.m]}),n})()}}]);